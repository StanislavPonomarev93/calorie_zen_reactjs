(this.webpackJsonpcalorie=this.webpackJsonpcalorie||[]).push([[0],{31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a(1),c=a.n(l),s=a(21),i=a.n(s),d=a(8),o=(a(31),a(9)),h=a(10),r=a(4),m=a(12),b=a(11),V=a(2);a(32);var j=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{alt:"Calorie Zen logo",className:"header__logo",src:"data:image/png;base64,ZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFKSUFBQUJGQ0FZQUFBQ2hRTDhaQUFBQUNYQklXWE1BQUJZbEFBQVdKUUZKVWlUd0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQTE4U1VSQlZIZ0I3WjFkYkJ4WEZjZi9kMmI5bVk4Nm9TV0lGR1ZDSXVvV21zUjhGRlNKZENOUUUxT0oya2lnMGhaaTgxTFVJaVZ1UmFVSXBOalFxZ2lhT2tIdzBBZWFUVVhTU0JVNEthSk9hYXVzZzBwRlNodW5sTWFrVFRNdStNRk5TU3c3aWI5MjUzTFA3S3k5dTU3Wm5abTlNN3ZyN1U4YTdhNTNaandlLytmY2M4ODk5MXlHa09GOVdoT2l6MFhSZExNbVBtNFUyeWF4TldWc2FjYXNUYmRlQjhRMlNCdGpiQXhWUUZ0ZmQxTkQzZEtvb2pBTjVyMWk1cjFpREUyY1o5MHJRcWVOZzQrQjR6VG5mSkN6MmNIRHJidDBoQUJEQ016K2FYMVVVZFU3eFc5clE4TnFUYm50WlJRREh6NFk1Mi8vZkRESmpRTzFkN3d6aUVYRVhmMi9Fc0tKM01ZNGIwUHFJU3NXY1grNGVhOE90LzQ0am9BSVRFaGtlWXo2MmgyY3NaM0llSHFVbXg4RFc5Mk9va2lNdzNpbEhYeHloRDdwTUl5ZVdVV05ON1FPNmFoQXlQSTBObDZ6UTRpblEzelVFQnk2K00vRWszeW1SN2Fsa2k2a3lmNW1yUWJZTFM2NFk4RXZFd0lpSWNtQVh6d0o0K1Qzczg4UEhwdUIwbE1wZ2tvTFNBSGZhZE5VQlF5UHlSU1VOQ0daRnFpaGJyZTRJVHR0ZjFIRGFpaTNQQTNSdEVFV3hydS9BUmZiZ3Q4RjNxMU16ZXhqN1hwWitsS2xGVkF1Y2dRbFJVakpZemZzNEVBMzh0d1VLVTJhRFU1aWd0WGtSZTU0SjRZeTRydlBQOTZtS0VvdmdtM0N2S0lMNTd6blVPdERNZmlrS0NHbG1qRytYN3lONXR1UHJmOFJGTEVGaHZDVlRFR045QzM0aXBvN1laMjZTbTJkeUFvdGFieG1OempmaVRKRjlQaU9HSHlteTQ5MThpMGtzeWNXVWZmekFrOFdhOTRGUmR1T1VCQ0NJdCtKTmt3TWdZK2ZTWCtqejRKdEtaWHZkRmYvWTVySzZvNmp2S3lRRXpwUEp0b1AzZkd3cDk2d0x5R1pUUm5IM3J3bkZyNFFvK1pzNVMwb0dZbUpsSmdtem9CZk9qV21xTXM2MllaSGppQkVxRHNmVWRTKzB2dEMzakRBdTU3Wjl0QmV0L3Q3RmxLeS96TzdPVmkzNHdrank4Unp0ejFsaGVoOStkRWhBcG9IRUFMM3ZQREVkdEZleEZDaGlOQk45Nkd0WFQxdTl2VWtwSHdpcWdBQlpSSzRtQ3BkUkduY2lzbTFrT3lhTTFNOHE3NXU5c1pLMm9UNVk0c1FVeHdCWVBYTStyQkljTlBNdVJJU09kWXNvaDZmTzBpSXhoU1BFRkVGV0I4bnFCZlhJc1NrUXlMa1dFZVV1bE5CKzBTWHpvMmdkbWtEbHF4YWlUQkk4dVNXZkVNc0JZVkVYZnhhOE9OQ01Gb0ZOVjF1MFpFU2s1VFFRRmk5cy8vODdTMmMrTmxUcUYzU2dEdWYvcW41R2pnTVkwbGp1c1VwTkJBcGRIeHQ0NW8rdHU0K0xZaGdZaG1naVkyQ2c1MlFnTXBxZHlPRUxuN3QwbnJ6dGNaNkRRVmhZY1ZEUWpIRExYWmY1N1ZJaWZHekhXckRKL1l2SWd2a1JMdXdTa1dGQmU3dTMwTU8vSDZFeEpYUmkyYlRWaE9HTmNyQXlWL0tLeVFSTmorUHlnaWlGUXMxYld2OU5uRVZGbkFzRG9jbVRuSGFYNGdvaXVvUUVVR09zZStoQzFXcDM0RnF1VmZ6VFZ3V2poWkpDSWwyN2tEMTRLc1haMW1qODZneWNudHh0aFpKaUVoRGRZbUk4R1dWTEFlNzZsQ1ptdlYzT3pWdFVWUW4yOFZENURyK1E5WklHUFVPVkNkUkdrZE1mM0FTVWxVK1pZSW00K3l2WFZzbEJiVlJWREVLVjl2bTN1ZCtXV1ZPOWtJbTNuS2Q4eUw4S2VrUDNIc3ZualM3OXBVQVU3RzlvNi9YdE9CMkZpbWs1S0h5aEY4NnBjMzJOMGNMN1hkdnlxeHJrTWg3TDc2R1YvY2N4dlAzNzRGczZOeTBTVVgwNEticUUrWk1sNnpJZGhrNDJicjFtanZITFJUTWhMakVoSWk2bVZZNW5tOWZnNmx0c21kTzFDeEpSYW8vdm1FZFpFSVc3dFU5ejVqdmw2eGFnVlViMWtNV0NvdVE0WW5uRHBGRUVUNXhzVkdhUXRiRVI4dnBwVFo0ZTFqWGxVN1ZaUXE3cmRDK1FrUUY5L0hLcDI2OUdkLzV3Nk41bzlWTEluVm9Ybms5MWl5N2J1NW53eE1YOEw3WUxreU8yeDVUSXlMZzE5LzZPVk5RU3lVUDhqSm16ci9yekhxb1FvNWs2K1lGdUVqbDRLbjVYc0dPWTAyT0lEbnd0Ym1QNnRUMENxYzhiL0lMWmh2NEpZUUlDV2pybXM5am05YUNSdkhlamhNamI2UHYzS3VPZ2dvS1hsT3J6ZmxJUERXelUwTTQ2UENRRHlUMml5RTFXS2dqSUpJNWMrUVM5ZldPczF3VGxsOFFGdGMxTE1lanQ5NkxiNjMvaXFPSWlNMnJiOEpQdnZSdHJGbCtIVUpsWm5yTG5KQ01NNytJSWh4MHBFU2tlem5JMnAvRUpIMDJpRG1kS1RWcmQvNW5uRHVLaFRNbE5DR1JpRWdjMTRwWE4xeHI3UitxbURqYk5HK1JobU1iVFdjemVIcjhKcE5aeCsyRFJFaEVoczI4T0pYeGpZN0hnR2tJQ1M4aVNrTldxMnZUTjgzbU1CUVk1cHMySnB4YjQ1KzdFREM2MVV3VkE2VXdTTEZLVGlJaURMQVZUc2V4VkJXVndQbnFKMi95TEtJMGRCejVWR0hBR0RZcUdaK2EwaE1OQStRb2lzVHEyUlY5bm53aUloU0dOU2d4bTFkL0ZzVkFQbE5ZekRkdGxxUE45UU1ML0FXSnlKcFQ1bW55WGk2RlJKVGFLVzhjUzROSEtNZmFLOFg2T1dTVnZEWnZmcTVUb0MyTWJJdUFYSUJObkN4SFdZZFBYSWxJTXE4L2VRVFBQN0FISjNxZWNuME1pYUJSZ285emJhUDdwakY5blM4OS9GdDR4VDZOaEtZOWo3NkVBSkFWZS9FbFNQcWJ3aFlSa1E0d2NvU1BGekdtcjlOUCtxNWo4cjh4OUJqVWozMVo5b3lSRnJFTm8zaThkNy9KL3h1U1U1dkpLeHZ1M1NxR0pkWmg1VHIzSlgwK0ZFSEZxNG5wb3EzUysrTVhYTy9yNXpyVHpQZmFjcHNMdXZHNjlNbW9zdUl2bm50TmhrMnNLQjg4Zi9QcDJTTFMrSmJYSjMzWWd3anNvR0dUSzBLTVh2QnpuUUpkeWZjdGx5K2tIU2dTYTJDNXpkTkJWS1ZrUk43RVZ5N3VERUxnMlBBYktJYitJbzkzRGNOWXhoQ0pUVStJcW5uSURWSTJXZU5teFVDRHVKNHlBL3o4RGR3d1RqdC95MlEwendWNS9ZTnpPSFB4di9BRE5ZMS9GV052b2NBemhlVGd1L0FQcER2ZHZaWlY4WXgxWERjOHdpZk9lRDJFaGtGMHArOVlTQmFKZVBLdEYweFJlSUY4cTk1VHp5RXN1SUhUOHo0U1kvYXhtZjlKSHpZaGEzTGNxNWlzL1kvREQ3TVQ4SXJqL2FEdnVGRlVITXNMSktKSFhudld0WmhJUkkrZWZOWk1MUWtMcmhyeE9TSE5PaVJ5OFlUM2Y0SUxOS1RFNU1yWHNmWTdCYi9aQ1RYZWU1NlJxYWxCNSs4aW9RbUpTSXVKZkthckRzNHovZnpFeUwrd2MrQjNvWXFJU0NSVVBTc2ZLWEhzaGt0MkVWMTEyeEFDSkk3VVFHdzhxTVEydTFMS2hhNHAwdnJ2TGZsMnVPZllFOGNoT2VFdUhRamN2UHNIam9VaEtCeHdZMDVpMjRkVDQvakg2RGxIa2JrOXQwLzBnOXNlWEpzVlJ6SU1mbFJoTER0bk8vaDUvMUZySS9Ib0dUL1hJQW16ZGxQTjhqSE1qcnR5MHZNNzJ0WTVPUi9nakVVaGlVdnZqV0QwelhPcDkyS1l3aWtkbHNSQ1RqaHRicUhNeVBTNVIwKy9hMlppeWlPVlU1WWxKTWFVbUxpTldVSml0VTFrSmNMS245WVFFRXJ6THRmWkRhTGpFU3U4bHhFWHRscmFMSklWbjE2Tkw5elhocGtyazFKenFnbXFvWlErdDF3UlVlNTYwaHhBejA2MTdkT2FrZzExNXpPYk4zcWF6VUxyaXdCcTNseUVBblRScksyRkMwVHpWaTFGTnV3UjhhT0RXeDgwMDIyeUFwS1VveXk2Y3RsUnlPWE5XQ3d3TjdXK0RjTlY4VTN6Zkp3SFdvZXk3T0h6cFlBV1JyWno2d1RWeTF2eW9kU1l2bElCbjQ4V3g0RkxJbFBLWG5vcVVhVWtPZVlldWdWQ3Fta2RpaU1qRk1DVzM0akZoRm4zMHVrNzhKaVhvdTZ4OXE0eE1TSlFsVlpKL04xSEQ3ZDI2ZW5QOW1ra1lITktXMnhDUXA2NEdLMnNCSThZbkZXbFZUTEFkbVordGhWUzJpcXhaYzJMcWZCb0NvY01BUEdFN2ZPenhBUTlsY3pnVWlja2xEOHNsbW1OQ01mUi8xbXdUdFN0WEZSUG1wbXdOMjQ3N3FZbkdOc0xuMVNicjVUcEc2VnhGSkw1ZEdxZG5rMTkyWkl2aFZqMDFJcFo4SVo4SlpZMHBGVEdkY3VzaUFtTnZ2a3V3b2FXNDhxMVJrVEJPZ2ppUU9sREFhRkRJbnJqQWRzWUVqbllhdXRaS1NLNHAvL3hHSmdTU2pXWFA5Ky9CMk1pR3Y3Rkg3YmhocmJOQ0lsQk1SelNZdmVGZ3NMUVRhNWNzejAraE9UZnYrY1VpTlQ5T05oTzFFeXA1SURxQ0lIYU1HdHNwOUNUbkRrV1czZFZtY1VxdnVVdmhhTlVVRmJrOEFFWXVrTlVYdmcwczV5MXlGN0Q3YTcrWGsxVitDa0V2SVFFalovTlhKN0VpblhoeFBtNHdsb08zZDdsbkZvRHR5ZEtyWHpZaTNLR01qcEgvZ2crK25MaG9SRE8yeVBmT0N0cm5sMFdWSVNMTTdXeUhyeTg4SzZETWhhMW1Uc2Q1OTBvdy9xU1ptK01saUtsSHBtci9DbldHV2tkaWlGQXdsNEpJQ2lzdFc2N0MrM251ZWhZT1ltSkV2cTl6ZzRKUTBScEtsMU1ia1ZFK0twZVYvSm1qcVpLaWE2OHA2Uis0Uk54NFN4YXdkYlFNSnM1UmUxRGhTMUZLdjdIblY1VzNmWmRCdEdxSDBSemZEU0VDVlZXbzJ4SGIvVUpTcnc0c25EQUdhK2N4WkVWMXA3UHNiYkRUZmZmRmlzNW50SlJ3eHUwOUNFaU1TWjBRSjJhYmltVmlBZ0s0TlZNc2hhVS93QnYvTXBrL3Q2WkU3NHRVaWFoMUhnVUpGOXBNNWRoZHdVTldSaThNNmllbVY4c3Z5bndlK1VGWmpiN3ZPZWdoMVcxYy9GdGtiSXZaSzdHWTJCUG5GbWV6NDJJNkthQTlhaVQwMnZMVFVRRStSMWtuWmo0eDZFTTRBYjJYYjdLMWhZaklrS0tSY29rWXhLanZLR0NuSXF6dHFTYzZYMlJxYW05VHRWb3l3M1RkNExvQmJOU0ZNbG5NUnA4dFJzMzgzVTJCRVJHOFhlNlNScUt3QlNSZzE4a251eEJneWxISzBsQXVaQ2dGQmpSb0pzOGxtcnU5MTJlVXZZZUVRUE5rRWhnUXNyRUdtS2hPV3BVNU54VFJSS0h3bGh4MFh3TjBHdlkzZm1ndWZzdnY5eUVSS1NES2Q3dmxRT0RvdmthVUZqeXlPL3pySkpkTEtFSUtSTnI0bU1VcVp0RTVXbm9zNGFGeTBhTTRlcndtREZ3KzVpNHlrRXhZSGlhZW9vMEE3WlNMWTlYMnZwNm01YldKelpaNVpqRnZXS2FlRzBTbGtYTFhBNCs1U3liQStzNlVuVUpUak9ENjVlbjFiaHN5L01SSHhFby93ZnNzODJ4SU9Sd0lBQUFBQUJKUlU1RXJrSmdnZz09"}),Object(n.jsx)("h1",{className:"header__header",children:"Calorie-Zen"})]})},U=a(13),N=(a(33),function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(U.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({food:"",calories:""}),n.props.handleSubmit(n.state.food,n.state.calories)},n.state={food:"",calories:""},n.handleChange=n.handleChange.bind(Object(r.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"food-adder",children:[Object(n.jsx)("input",{onChange:this.handleChange,name:"food",value:this.state.food,type:"text",required:!0,placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(n.jsx)("input",{onChange:this.handleChange,name:"calories",value:this.state.calories,type:"number",required:!0,placeholder:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),Object(n.jsx)("button",{className:"food-adder__submit"})]})}}]),a}(c.a.Component)),u=(a(34),function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e,t){var a=0,l=n.state.foodList.slice();l.push({food:e,calories:t}),l.forEach((function(e){a+=parseInt(e.calories)})),n.setState({foodList:l,calorieTotal:a})},n.state={foodList:[],calorieTotal:0},n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"diary",children:[Object(n.jsxs)("div",{className:"calories",children:[Object(n.jsxs)("h2",{children:["\u0426\u0435\u043b\u044c \u043d\u0430 \u0434\u0435\u043d\u044c: ",this.props.calGoal]}),Object(n.jsxs)("h2",{children:["\u041a\u0430\u043b\u043e\u0440\u0438\u0438: ",this.state.calorieTotal]}),Object(n.jsx)("ul",{className:"calories__list",children:this.state.foodList.map((function(e,t){return Object(n.jsxs)("li",{children:[e.food," - ",e.calories]},t)}))})]}),Object(n.jsx)(N,{handleSubmit:this.handleSubmit})]})}}]),a}(c.a.Component)),F=a(24);a(35);var p=function(){Object(l.useEffect)((function(){fetch("https://api.nomoreparties.co/todays-tips-rus").then((function(e){return e.json()})).then((function(e){c(Object.values(e))}))}),[]);var e=Object(l.useState)(),t=Object(F.a)(e,2),a=t[0],c=t[1];return Object(n.jsx)("div",{className:"tips",children:Object(n.jsx)("ul",{className:"tips__list",children:a&&a.map((function(e,t){return Object(n.jsx)("li",{className:"tips__item",children:e.tip},t)}))})})},Z="https://api.nomoreparties.co",T=[{id:1,calGoal:1200},{id:2,calGoal:1300},{id:3,calGoal:1400},{id:4,calGoal:1500},{id:5,calGoal:1600},{id:6,calGoal:1700},{id:7,calGoal:1800},{id:8,calGoal:1900},{id:9,calGoal:2e3},{id:10,calGoal:2100},{id:11,calGoal:2200},{id:12,calGoal:2300},{id:13,calGoal:2400},{id:14,calGoal:2500},{id:15,calGoal:2600},{id:16,calGoal:2700},{id:17,calGoal:2800},{id:18,calGoal:2900},{id:19,calGoal:3e3}],S=(a(36),function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(U.a)({},a,l))},n.handleChangeCals=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(U.a)({},a,l))},n.handleSubmit=function(e){var t,a,l,c;e.preventDefault(),n.state.password===n.state.confirmPassword&&(t=n.state.username,a=n.state.password,l=n.state.email,c=n.state.calGoal,fetch("".concat(Z,"/auth/local/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t,password:a,email:l,ru_cal_goal:c})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))).then((function(e){e?n.props.history.push("/login"):console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")}))},n.state={username:"",email:"",password:"",confirmPassword:"",calGoal:""},n.handleChange=n.handleChange.bind(Object(r.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n.handleChangeCals=n.handleChangeCals.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"register",children:[Object(n.jsx)("p",{className:"register__welcome",children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c."}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"register__form",children:[Object(n.jsx)("label",{htmlFor:"username",children:"\u041b\u043e\u0433\u0438\u043d:"}),Object(n.jsx)("input",{id:"username",name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(n.jsx)("input",{id:"email",name:"email",type:"email",value:this.state.email,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)("input",{id:"password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"confirmPassword",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:this.state.confirmPassword,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"calGoal",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438 \u0437\u0430 \u0434\u0435\u043d\u044c:"}),Object(n.jsx)("select",{name:"calGoal",value:this.state.calGoal,onChange:this.handleChangeCals,children:T.map((function(e,t){return Object(n.jsx)("option",{value:e.id,children:e.calGoal},t)}))}),Object(n.jsx)("div",{className:"register__button-container",children:Object(n.jsx)("button",{type:"submit",onSubmit:this.handleSubmit,className:"register__link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(n.jsxs)("div",{className:"register__signin",children:[Object(n.jsx)("p",{children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(n.jsx)(d.b,{to:"login",className:"register__login-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}]),a}(c.a.Component)),W=Object(V.h)(S),R=(a(42),function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n.handleChange=n.handleChange.bind(Object(r.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(U.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a,n=this;(e.preventDefault(),this.state.username&&this.state.password)&&(t=this.state.username,a=this.state.password,fetch("".concat(Z,"/auth/local"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:a})}).then((function(e){return e.json()})).then((function(e){if(e.user)return localStorage.setItem("jwt",e.jwt),e})).catch((function(e){return console.log(e)}))).then((function(e){e.jwt&&n.setState({email:"",password:""},(function(){n.props.handleLogin(e.user.ru_cal_goal.calGoal),n.props.history.push("/diary")}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("p",{className:"login__welcome",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"login__form",children:[Object(n.jsx)("label",{htmlhtmlFor:"username",children:"\u041b\u043e\u0433\u0438\u043d:"}),Object(n.jsx)("input",{required:!0,id:"username",name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{htmlhtmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)("input",{required:!0,id:"password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("div",{className:"login__button-container",children:Object(n.jsx)("button",{type:"submit",onSubmit:this.handleSubmit,className:"login__link",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(n.jsxs)("div",{className:"login__signup",children:[Object(n.jsx)("p",{children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(n.jsx)(d.b,{to:"/register",className:"signup__link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}}]),a}(c.a.Component)),O=Object(V.h)(R);a(43);var k=function(e){var t=Object(V.g)();return Object(n.jsxs)("nav",{className:"menu",children:[Object(n.jsx)(d.c,{exact:!0,className:"menu__item",activeClassName:"menu__item_active",to:"/diary",children:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a"}),Object(n.jsx)(d.c,{className:"menu__item",activeClassName:"menu__item_active",to:"/tips",children:"\u0421\u043e\u0432\u0435\u0442\u044b"}),Object(n.jsx)("button",{onClick:function(){localStorage.removeItem("jwt"),t.push("/login"),e.handleLogout()},className:"menu__item menu__button",children:"\u0412\u044b\u0439\u0442\u0438"})]})},M=a(23),x=a(25),E=function(e){var t=e.component,a=Object(x.a)(e,["component"]);return Object(n.jsx)(V.b,{children:function(){return a.loggedIn?Object(n.jsx)(t,Object(M.a)({},a)):Object(n.jsx)(V.a,{to:"./login"})}})},G=(a(44),function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1},n.handleLogin=n.handleLogin.bind(Object(r.a)(n)),n.handleTokenCheck=n.handleTokenCheck.bind(Object(r.a)(n)),n.handleLogout=n.handleLogout.bind(Object(r.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.handleTokenCheck()}},{key:"handleTokenCheck",value:function(){var e,t=this;if(localStorage.getItem("jwt")){var a=localStorage.getItem("jwt");(e=a,fetch("".concat(Z,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){var a=0;T.forEach((function(t){t.id===e.ru_cal_goal&&(a=t.calGoal)})),e&&t.setState({loggedIn:!0,calGoal:a},(function(){t.props.history.push("/diary")}))}))}}},{key:"handleLogin",value:function(e){this.setState({loggedIn:!0,calGoal:e})}},{key:"handleLogout",value:function(){this.setState({loggedIn:!1})}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{}),Object(n.jsxs)("main",{className:"content",children:[this.state.loggedIn&&Object(n.jsx)(k,{handleLogout:this.handleLogout}),Object(n.jsxs)(V.d,{children:[Object(n.jsx)(E,{path:"/diary",calGoal:this.state.calGoal,loggedIn:this.state.loggedIn,component:u}),Object(n.jsx)(E,{path:"/tips",loggedIn:this.state.loggedIn,component:p}),Object(n.jsx)(V.b,{path:"/register",children:Object(n.jsx)(W,{})}),Object(n.jsx)(V.b,{path:"/login",children:Object(n.jsx)(O,{handleLogin:this.handleLogin})}),Object(n.jsx)(V.b,{exact:!0,path:"/",children:this.state.loggedIn?Object(n.jsx)(V.a,{to:"/diary"}):Object(n.jsx)(V.a,{to:"/login"})})]})]})]})}}]),a}(c.a.Component)),g=Object(V.h)(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(d.a,{children:Object(n.jsx)(g,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.3045568e.chunk.js.map